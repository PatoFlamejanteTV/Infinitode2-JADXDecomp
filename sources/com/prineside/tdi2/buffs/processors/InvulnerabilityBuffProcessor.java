package com.prineside.tdi2.buffs.processors;

import com.badlogic.gdx.utils.DelayedRemovalArray;
import com.prineside.tdi2.BuffProcessor;
import com.prineside.tdi2.Enemy;
import com.prineside.tdi2.buffs.InvulnerabilityBuff;
import com.prineside.tdi2.enums.BuffType;
import com.prineside.tdi2.enums.StatisticsType;
import com.prineside.tdi2.utils.REGS;

@REGS
/* loaded from: infinitode-2.jar:com/prineside/tdi2/buffs/processors/InvulnerabilityBuffProcessor.class */
public final class InvulnerabilityBuffProcessor extends BuffProcessor<InvulnerabilityBuff> {
    @Override // com.prineside.tdi2.BuffProcessor
    public final boolean isDebuff() {
        return false;
    }

    @Override // com.prineside.tdi2.BuffProcessor
    public final StatisticsType getBuffCountStatistic() {
        return StatisticsType.EB_INV;
    }

    /* JADX WARN: Multi-variable type inference failed */
    @Override // com.prineside.tdi2.BuffProcessor
    public final boolean addBuff(Enemy enemy, InvulnerabilityBuff invulnerabilityBuff) {
        DelayedRemovalArray buffsByTypeOrNull = enemy.getBuffsByTypeOrNull(BuffType.INVULNERABILITY);
        if (buffsByTypeOrNull == null || buffsByTypeOrNull.size == 0) {
            return super.addBuff(enemy, (Enemy) invulnerabilityBuff);
        }
        if (((InvulnerabilityBuff[]) buffsByTypeOrNull.items)[0].duration < invulnerabilityBuff.duration) {
            removeBuffAtIndex(enemy, BuffType.INVULNERABILITY, 0);
            return super.addBuff(enemy, (Enemy) invulnerabilityBuff);
        }
        return false;
    }
}
